@model IEnumerable<Website.Models.Post>

@{
    ViewBag.Title = "Index";
    @Html.Partial("_LoginPartial")
}

<div class="container">
    <div class="row">
        <h2>Index</h2>
        @if (User.IsInRole("Admin")) { 
        <p>
            @Html.ActionLink("New Post", "Create")
        </p>
        }
            @*<tr>
                <th>
                    @Html.DisplayNameFor(model => model.Created)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Updated)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Body)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MediaURL)
                </th>
                <th></th>
            </tr>*@
    <div class="col-xs-8">
        @foreach (var item in Model)
        {
            <div class="row">
                <h1>
                    @Html.DisplayFor(modelItem => item.Title)
                </h1>
                <h3>Posted: 
                    @Html.DisplayFor(modelItem => item.Created)
                </h3>
            </div>
            <div class="row">
                <div class="container">
                    @Html.DisplayFor(modelItem => item.Body)
                    @if(item.MediaURL != null){
                        <img src="@Url.Content(item.MediaURL)" class="img-responsive" />
                    }
                </div>
            </div>
            if (User.IsInRole("Admin") || User.IsInRole("Moderator")){ 
            <div class="row">
                <div class="col-sm-3">
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id })
                </div>
                <div class="col-sm-3">
                    @Html.ActionLink("Details", "Details", new { id = item.Id })
                </div>
                <div class="col-sm-3">
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                </div>
                <div class="col-sm-3">
                    @Html.ActionLink("Edit COmments", "Index", "Comments", new { id = item.Id }, null)
                </div>
            </div>
            }
              
            @*<tr>
                <td>
                    
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Updated)
                </td>
                <td>
                    
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MediaURL)
                </td>
            </tr>*@
        }
        </div>
    </div>
</div>